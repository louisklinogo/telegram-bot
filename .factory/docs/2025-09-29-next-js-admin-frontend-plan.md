## Summary
Create an `apps/admin` Next.js 15 project (App Router) with shadcn/ui for a Supabase-backed admin dashboard featuring an expandable/collapsible sidebar that keeps navigation in a single-page workspace.

## Key References
- Next.js CLI (`npx create-next-app@latest …`) per official docs (https://nextjs.org/docs/app/api-reference/cli/create-next-app, 2025).
- shadcn/ui installation via `npx shadcn@latest init` (https://ui.shadcn.com/docs/installation, refreshed 2025 guidance).
- Next.js 15 feature set & defaults (Next.js 15.4/15.5 release notes, 2025) ensure compatibility with React 19/Turbopack pipeline.

## Implementation Steps
1. **Workspace & Tooling**
   - Generate Next.js 15 app in `apps/admin` using `npx create-next-app@latest apps/admin --ts --app --eslint --tailwind`.
   - Configure Bun scripts in root `package.json` (`dev:admin`, `build:admin`, `lint:admin`).
   - Enable project-level TypeScript references if needed.

2. **Styling & UI Kit**
   - Run `npx shadcn@latest init` within `apps/admin`; accept Tailwind CSS v4 defaults generated by create-next-app.
   - Configure `tailwind.config.ts` content paths for App Router, shadcn components, and shared `packages` if any.
   - Import base styles (`@tailwind base/components/utilities`) and shadcn CSS vars in `app/globals.css`.
   - Install required component sets via `npx shadcn@latest add button card input dropdown-menu sheet navigation-menu collapsible tooltip scrollbar` (gives building blocks for sidebar + dashboard panels).

3. **Supabase Utilities**
   - Add `apps/admin/lib/supabase-client.ts` exporting a browser Supabase client using anon key (reusing existing env via `NEXT_PUBLIC_SUPABASE_URL` & `NEXT_PUBLIC_SUPABASE_ANON_KEY`).
   - Update root env validation to ensure public keys are exposed with NEXT_PUBLIC prefix; document fallback.

4. **Layout Architecture**
   - Implement `app/layout.tsx` with a `SidebarLayout` component wrapping children; includes `<SidebarProvider>` context controlling expand/collapse state (keyboard-accessible toggle).
   - Sidebar UI:
     - Top section: company logo/title, collapse button.
     - Navigation groups (Dashboard, Clients, Orders, Invoices, Measurements, Files, Settings) using shadcn `NavigationMenu` + custom `Collapsible`/`Accordion` for nested items.
     - Secondary area for quick filters or status badges (shadcn `Badge`, `Tooltip`).
     - Footer button for settings/logout.
   - Main content region uses responsive grid, ensures scrollbar remains on content only.

5. **Routing & Pages**
   - Scaffold App Router routes: `/` (overview dashboard), `/clients`, `/orders`, `/invoices`, `/measurements`, `/files`, `/settings`.
   - Each page uses shadcn primitives (`Card`, `Table`, `Skeleton`) with placeholder data hooks.
   - Implement `loading.tsx` & `error.tsx` shells with consistent styling.

6. **State & Data Layer**
   - Introduce `apps/admin/lib/query-client.ts` (TanStack Query) and wrap layout with `QueryClientProvider` for future data fetching.
   - Create placeholder hooks in `hooks/` that call Supabase using new client; currently return mocked data while Supabase endpoints are defined.

7. **Utilities & Shared Components**
   - Build reusable components: `Sidebar`, `SidebarToggle`, `NavSection`, `NavLink`, `PageHeader`, `DataTableSkeleton`.
   - Provide `useSidebar()` hook for collapse state, storing preference in `localStorage` via `useEffect`.

8. **Linting & Quality**
   - Ensure Next.js ESLint config active; add `pnpm lint` alias or Bun script to run `next lint` (or updated `eslint` command if `next lint` deprecated as per Next 15.5 note).
   - Add `bun run build:admin` to confirm compile.

9. **Integration Notes**
   - Update root `.gitignore` for Next build artifacts (`apps/admin/.next`).
   - Add README snippet to TODO.md (since we avoid README edits) with run instructions; include Supabase env expectations.
   - Future steps: connect actual Supabase endpoints, auth guard (Clerk or Supabase Auth), real data tables.

## Risk & Mitigation
- **Tailwind/shadcn alignment**: confirm generated `tailwind.config.ts` uses new v4 `@theme` syntax; adjust shadcn tokens accordingly.
- **Command freshness**: rely strictly on `npx create-next-app@latest` & `npx shadcn@latest` to stay current.
- **Env consistency**: ensure NEXT_PUBLIC env vars mirror server ones without exposing secrets beyond anon key.

Let me know if you’d like any adjustments before implementation.